## DFS

- [2192. 有向无环图中一个节点的所有祖先](https://leetcode.cn/problems/all-ancestors-of-a-node-in-a-directed-acyclic-graph/description/)

小技巧：不用每次dfs都重置vis，每次dfs时将访问过的节点的vis设置为start。

```py
class Solution:
    def getAncestors(self, n: int, edges: List[List[int]]) -> List[List[int]]:
        g = [[] for _ in range(n)]
        for x,y in edges:
            g[x].append(y)

        ans = [[] for _ in range(n)]
        vis = [-1] * n
        def dfs(x):
            vis[x] = start
            for y in g[x]:
                if vis[y] != start:
                    ans[y].append(start)
                    dfs(y)

        for start in range(n):
            dfs(start)
        return ans
```