\
## 题目

### [148\. 排序链表](https://leetcode.cn/problems/sort-list/)

难点在于记得截断链表。判断链表中点也可以用快慢指针。

```py
def merge(x1,x2):
    dummy = ListNode()
    p = dummy
    while x1 and x2:
        if x1.val < x2.val:
            p.next = x1
            x1 = x1.next
        else:
            p.next = x2
            x2 = x2.next
        p = p.next
    if x1:
        p.next = x1
    else:
        p.next = x2
    return dummy.next

def mergesort(x, n):
    if n<=1: return x
    h = n // 2
    x1 = p = x
    for _ in range(h-1):
        p = p.next
    x2 = p.next
    p.next = None #截断链表
    x1 = mergesort(x1,h)
    x2 = mergesort(x2, n-h)
    return merge(x1,x2)

class Solution:
    def sortList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        n = 0
        p = head
        while p:
            n += 1
            p = p.next
        root = mergesort(head, n)
        return root
```